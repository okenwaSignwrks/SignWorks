<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Details</title>
	<link rel="icon" type="image/x-icon" href="signWorks_logo.png">
    <style>
        table {
            border-collapse: collapse;
        }

        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body style="font-family: Arial; background-color: #F5F5DC;">
    <h1 style="background-color: #ADD8E6;">Customer Details</h1>

    <table id="customerDetails">
        <!-- Customer details will be displayed here dynamically -->
    </table>

    <button onclick="redirectToEditPage()">Edit Customer</button>

    <script>
        // Retrieve selected customer details from local storage
        const selectedCustomer = JSON.parse(localStorage.getItem('selectedCustomer'));
        const customerDetailsTable = document.getElementById('customerDetails');

        // Function to exclude '_id' field and format column names
        function formatColumnName(name) {
            // Convert camelCase to Title Case
            const formattedName = name.replace(/([A-Z])/g, ' $1').trim();
            // Capitalize first letter
            return formattedName.charAt(0).toUpperCase() + formattedName.slice(1);
        }

        // Display customer details in a vertical table format
        for (const [key, value] of Object.entries(selectedCustomer)) {
            // Exclude '_id' field
            if (key !== 'id') {
                const row = customerDetailsTable.insertRow();
                const columnNameCell = row.insertCell(0);
                const valueCell = row.insertCell(1);

                columnNameCell.textContent = formatColumnName(key);
                valueCell.textContent = value;
            }
        }

        // Function to redirect to edit page
        function redirectToEditPage() {
            window.location.href = 'edit_customer.html';
        }
    </script>
</body>
</html>
